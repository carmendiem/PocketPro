<!DOCTYPE html>
<html>

<body>
    <button onclick="goToHome()">Go to Home Screen</button>
    <h3>Report for month {{ month }}</h3>
    <hr />
    <script>
        function goToHome() {
            window.location.href = '/';
        }
    </script>
    <form id="monthForm">
        <label for="month" method="GET" action="/report">Select Month:</label>
        <select id="month" name="month">
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
        </select>
        <button type="submit">Get Summary</button>
    </form>
    <div id="summaryResult"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
        var selectedMonth = "{{ month }}";  // Get the month value from Flask
        var monthSelect = document.getElementById('month');

        // Set the default value in the dropdown
        for (var i = 0; i < monthSelect.options.length; i++) {
            if (monthSelect.options[i].value === selectedMonth) {
                monthSelect.options[i].selected = true;
                break;
            }
        }
    });
    </script>
    <table>
        <thead>
            <tr>
                <th>amount</th>
                <th>category</th>
            </tr>
        </thead>
        <tbody>
            {% for row in results %}
                <tr>
                    <td>{{ row[0] }}</td>
                    <td>{{ row[1] }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</body>

</html>